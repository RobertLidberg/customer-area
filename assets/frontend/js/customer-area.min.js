!function(a){a.cuar||(a.cuar={}),a.cuar.addressManager=function(b,c){var d=this;d.fields=["name","company","line1","line2","zip","city","country","state"],d.isBusy=!1,d.$el=a(b),d.el=b,d.$el.data("cuar.addressManager",d),d.init=function(){d.options=a.extend({},a.cuar.addressManager.defaultOptions,c),d.$el.on("cuar:address:clear",d._onClearAddress),d.$el.on("cuar:address:set",d._onSetAddress),d.$el.on("cuar:address:get",d._onGetAddress),d.$el.on("cuar:address:getNonce",d._onGetNonce),d.$el.on("cuar:address:getAddressId",d._onGetAddressId),d.$el.on("cuar:address:isEmpty",d._onIsAddressEmpty),d.$el.on("cuar:address:setBusy",d._onSetBusy),d.$el.on("cuar:address:isBusy",d._onIsBusy),d.$el.on("cuar:address:loadFromOwner",d._onLoadAddressFromOwner),d.$el.on("cuar:address:saveForOwner",d._onSaveAddressForOwner),d.$el.on("click",".cuar-action.cuar-reset",d._onResetAddressAction)},d._onLoadAddressFromOwner=function(b,c){if(d._onIsBusy())return!1;if(null==c)return void alert(cuar.addressMustPickOwnerFirst);var e=d._onIsAddressEmpty();if(!e&&!confirm(cuar.addressConfirmLoadAddressFromOwner))return!1;var f={action:"cuar_load_address_from_owner",cuar_nonce:d._onGetNonce(),owner:c,address_id:d._onGetAddressId()};d._onSetBusy(null,!0),a.post(cuar.ajaxUrl,f,function(a){return d._onSetBusy(null,!1),0==a.success?void alert(a.data):void(null!=a.data.address?d._onSetAddress(null,a.data.address):alert(cuar.addressNoAddressFromOwner))})},d._onSaveAddressForOwner=function(b,c){if(d._onIsBusy())return!1;if(null==c)return void alert(cuar.addressMustPickOwnerFirst);if(!confirm(cuar.addressConfirmSaveAddressForOwner))return!1;var e={action:"cuar_save_address_for_owner",cuar_nonce:d._onGetNonce(),owner:c,address_id:d._onGetAddressId(),address:d._onGetAddress()};d._onSetBusy(null,!0),a.post(cuar.ajaxUrl,e,function(a){return d._onSetBusy(null,!1),0==a.success?void alert(a.data):void 0})},d._onResetAddressAction=function(a){return a.preventDefault(),d._onIsBusy()?!1:confirm(cuar.addressConfirmResetAddress)?void d._onClearAddress(null):!1},d._onClearAddress=function(a){d._onSetAddress(null,{name:"",company:"",line1:"",line2:"",zip:"",city:"",country:"",state:""})},d._onIsBusy=function(a){return d.isBusy},d._onSetBusy=function(a,b){d.isBusy=b,b?(d._getProgressIndicator().show(),d._getActions().addClass("button-disabled"),d._getInputFields().attr("disabled","disabled"),d._getInputContainers().addClass("disabled")):(d._getProgressIndicator().hide(),d._getActions().removeClass("button-disabled"),d._getInputFields().removeAttr("disabled"),d._getInputContainers().removeClass("disabled"))},d._onIsAddressEmpty=function(a){for(var b=0;b<d.fields.length;b++){var c=d.fields[b],e=d._getField(c).val();if(null!=e&&e.length>0)return!1}return!0},d._onGetAddress=function(a){for(var b={},c=0;c<d.fields.length;c++){var e=d.fields[c];b[e]=d._getField(e).val()}return b},d._onSetAddress=function(a,b){for(var c=0;c<d.fields.length;c++){var e=d.fields[c],f=d._getField(e);"country"==e?(f.select2("val",b[e]),f.change()):"state"==e?(f.select2("val",b[e]),f.data("pending-value",b[e])):f.val(b[e])}},d._onGetNonce=function(){return a("input[name=cuar_nonce]",d.el).val()},d._onGetAddressId=function(){return d.$el.data("address-id")},d._getField=function(b){return a(".cuar-address-"+b,d.el).find(".cuar-address-field:input")},d._getActions=function(){return a(".cuar-action",d.el)},d._getProgressIndicator=function(){return a(".cuar-progress",d.el)},d._getInputFields=function(){return a(".form-control",d.el)},d._getInputContainers=function(){return a(".form-group",d.el)},d.init()},a.cuar.addressManager.defaultOptions={},a.fn.addressManager=function(b){return this.each(function(){new a.cuar.addressManager(this,b)})}}(jQuery),function(a){a.cuar||(a.cuar={}),a.cuar.bindCountryStateInputs=function(b,c){var d=this;d.$el=a(b),d.el=b,d.isBusy=!1,d.$el.data("cuar.bindCountryStateInputs",d),d.init=function(){d.options=a.extend({},a.cuar.bindCountryStateInputs.defaultOptions,c),d._getCountryField().select2(d.options.select2),d._getStateField().select2(d.options.select2),d._getCountryField().on("change",d._onCountryChanged)},d._onCountryChanged=function(){var b=d._getCountryField(),c=d._getStateField(),e=d._getStateFieldContainer(),f=b.val();if(""==f.length||"undefined"==typeof f)return void e.hide();var g={action:"cuar_get_country_states",country:f,address_id:d._getAddressId(),cuar_nonce:d._getNonce()};d._setAddressBusy(!0),a.post(cuar.ajaxUrl,g,function(a){return d._setAddressBusy(!1),0==a.success?void alert(a.data):(null!=a.data.states?(c.html(a.data.htmlOptions).select2(d.options.select2),c.select2("val",c.data("pending-value")),e.show()):(c.select2("val",""),e.hide()),void c.data("pending-value",""))})},d._isAddressBusy=function(){return d._getAddressControl().triggerHandler("cuar:address:setBusy")},d._setAddressBusy=function(a){d._getAddressControl().trigger("cuar:address:setBusy",[a])},d._getAddressControl=function(){return d.$el.parents(".cuar-address")},d._getNonce=function(){return d._getAddressControl().triggerHandler("cuar:address:getNonce")},d._getAddressId=function(){return d._getAddressControl().triggerHandler("cuar:address:getAddressId")},d._getCountryField=function(){return a(d.options.countrySelector,d.el).find("select")},d._getStateFieldContainer=function(){return a(d.options.stateSelector,d.el)},d._getStateField=function(){return a(d.options.stateSelector,d.el).find("select")},d.init()},a.cuar.bindCountryStateInputs.defaultOptions={countrySelector:".cuar-address-country",stateSelector:".cuar-address-state",select2:{width:"100%",allowClear:!0,placeholder:""}},a.fn.bindCountryStateInputs=function(b){return this.each(function(){new a.cuar.bindCountryStateInputs(this,b)})}}(jQuery),function(a){a.cuar||(a.cuar={}),a.cuar.classicUploader=function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("cuar.classicUploader",d),d.init=function(){d.options=a.extend({},a.cuar.classicUploader.defaultOptions,c),d._getFileInput().css({opacity:0});var b=d._getPostId(),e="cuar_classic-upload_"+b,f={action:"cuar_attach_file",method:"classic-upload",post_id:b};f[e]=d._getNonce();var g=d._getDropZone();g.fileupload({url:cuar.ajaxUrl,dataType:"json",paramName:"cuar_file",formData:f,dropZone:g,add:d._onFileUploadAdd,done:d._onFileUploadDone,fail:d._onFileUploadFail,progress:d._onFileUploadProgress}),a(document).bind("dragover",d._onDragOverDropZone)},d._onDragOverDropZone=function(a){var b=d._getDropZone(),c=window.dropZoneTimeout;c?clearTimeout(c):b.addClass("in");var e=!1,f=a.target;do{if(f===b[0]){e=!0;break}f=f.parentNode}while(null!=f);e?b.addClass("hover"):b.removeClass("hover"),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,b.removeClass("in hover")},100)},d._onFileUploadAdd=function(b,c){for(var e=0,f=c.files.length;f>e;e++){var g=c.files[e].name;if(c.files[e].attachmentItem=a(document).triggerHandler("cuar:attachmentManager:addItem",[d._getPostId(),g,g]),null==c.files[e].attachmentItem)return!1;a(document).trigger("cuar:attachmentManager:updateItemState",[c.files[e].attachmentItem,"pending"])}c.submit()},d._onFileUploadDone=function(b,c){for(var e=0,f=c.files.length;f>e;e++)if(c.result.success){var g=c.result.data.file,h=c.result.data.caption;a(document).trigger("cuar:attachmentManager:updateItem",[c.files[e].attachmentItem,d._getPostId(),g,h]),a(document).trigger("cuar:attachmentManager:updateItemState",[c.files[e].attachmentItem,"success"])}else{var i=null;c.result.data.length>0&&(i=c.result.data[0]),a(document).trigger("cuar:attachmentManager:showError",[c.files[e].attachmentItem,c.files[e].name,i,!0])}},d._onFileUploadFail=function(b,c){for(var d=0,e=c.files.length;e>d;d++)a(document).trigger("cuar:attachmentManager:showError",[c.files[d].attachmentItem,c.files[d].name,c.errorThrown,!0])},d._onFileUploadProgress=function(b,c){for(var d=0,e=c.files.length;e>d;d++){var f=parseInt(c.loaded/c.total*100,10);a(document).trigger("cuar:attachmentManager:updateItemProgress",[c.files[d].attachmentItem,f])}},d._getNonce=function(){return a("#cuar_classic-upload_"+d._getPostId(),d.el).val()},d._getPostId=function(){return d.$el.data("post-id")},d._getDropZone=function(){return a(d.options.dropzone,d.el).first()},d._getFileInput=function(){return a(d.options.fileInput,d.el).first()},d.init()},a.cuar.classicUploader.defaultOptions={dropzone:".cuar-dropzone",fileInput:".cuar-file-input"},a.fn.classicUploader=function(b){return this.each(function(){new a.cuar.classicUploader(this,b)})}}(jQuery),function(a){a.cuar||(a.cuar={}),a.cuar.fileAttachmentManager=function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("cuar.fileAttachmentManager",d),d.init=function(){d.options=a.extend({},a.cuar.fileAttachmentManager.defaultOptions,c),d._getSelectors().first().show(),d._getSelectorInput().change(d._onSelectorInputChanged),d._getAttachmentList().on("click",".cuar-remove-action",d._onRemoveActionClick),d._getErrorList().on("click",".cuar-dismiss",d._onDismissError),a(document).on("cuar:attachmentManager:addItem",d._onAddAttachmentItem),a(document).on("cuar:attachmentManager:sendFile",d._onSendFile),a(document).on("cuar:attachmentManager:updateFile",d._onUpdateFile),a(document).on("cuar:attachmentManager:updateItem",d._onUpdateAttachmentItem),a(document).on("cuar:attachmentManager:updateItemProgress",d._onUpdateAttachmentItemProgress),a(document).on("cuar:attachmentManager:updateItemState",d._onUpdateAttachmentItemState),a(document).on("cuar:attachmentManager:showError",d._onShowError)},d._onShowError=function(a,b,c,e){d._showError(b,c,e)},d._onUpdateAttachmentItem=function(a,b,c,e,f){return 0==b.length?void console.log("_onUpdateAttachmentItem :: Item for not found"):void d._updateAttachmentItem(b,c,e,f)},d._onUpdateAttachmentItemProgress=function(a,b,c){return 0==b.length?void console.log("_onUpdateAttachmentItemProgress :: Item not found"):void d._updateAttachmentItemProgress(b,c)},d._onUpdateAttachmentItemState=function(a,b,c){return 0==b.length?void console.log("_onUpdateAttachmentItemState :: Item not found"):void d._updateAttachmentItemState(b,c)},d._onSelectorInputChanged=function(){var b=d._getSelectors(),c=a(this).val(),e=b.filter(function(){return a(this).data("method")==c});if(!e.is(":visible")){var f=b.filter(":visible");f.length<=0?e.fadeToggle():f.fadeToggle("fast",function(){e.fadeToggle()})}},d._onRemoveActionClick=function(b){if(b.preventDefault(),confirm(cuar.confirmDeleteAttachedFile)){var c=a(this).closest(d.options.attachmentItem),e=c.data("post-id"),f=c.data("filename"),g=d._getAttachmentListRemoveNonce();d._updateAttachmentItemState(c,"pending");var h={action:"cuar_remove_attached_file",post_id:e,filename:f,cuar_remove_attachment_nonce:g};a.post(cuar.ajaxUrl,h,function(a){if(0==a.success){var b="";a.data.length>0&&(b=a.data[0]),d._showError(c,f,b,!1)}else c.slideUp(400,function(){1==d._getAttachmentItems().length&&d._getAttachmentListEmptyMessage().show(),c.remove()})})}},d._onSendFile=function(b,c,e,f,g,h,i,j){var k=i;(void 0===i||0==i.trim().length)&&(k=h),d._updateAttachmentItem(c,f,h,k),d._updateAttachmentItemState(c,"pending");var l={action:"cuar_attach_file",method:e,post_id:f,filename:h,caption:k,extra:j},m="cuar_"+e+"_"+f;l[m]=g,a.post(cuar.ajaxUrl,l,function(b){if(0==b.success){var e="";b.data.length>0&&(e=b.data[0]),d._showError(c,h,e,!0)}else{var g=b.data.file,i=b.data.caption;d._updateAttachmentItem(c,f,g,i),d._updateAttachmentItemState(c,"success"),a(document).trigger("cuar:attachmentManager:fileAttached",[c,f,h,g,i])}})},d._onUpdateFile=function(b,c,e,f,g,h){var i=h;(void 0===h||0==h.trim().length)&&(i=g),d._updateAttachmentItemState(c,"pending");var j={action:"cuar_update_attached_file",post_id:e,filename:g,caption:i,cuar_update_attachment_nonce:f};a.post(cuar.ajaxUrl,j,function(a){if(0==a.success){var b="";a.data.length>0&&(b=a.data[0]),d._showError(c,g,b,!0)}else{var f=a.data.file,h=a.data.caption;d._updateAttachmentItem(c,e,f,h),d._updateAttachmentItemState(c,"success")}})},d._onAddAttachmentItem=function(a,b,c,e,f){if(cuar.maxAttachmentCount>0&&d._getAttachmentItems().length>=cuar.maxAttachmentCount)return d._showError(null,c,cuar.tooManyAttachmentsAlready,!1),null;var g=d._getAttachmentTemplate().clone();return g.appendTo(d.options.attachmentList),d._updateAttachmentItem(g,b,c,e),d._getAttachmentListEmptyMessage().hide(),g},d._updateAttachmentItem=function(a,b,c,d){(void 0===d||0==d.trim().length)&&(d=c),a.data("post-id",b),a.data("filename",c),a.children(".cuar-caption").html(d)},d._updateAttachmentItemState=function(a,b){a.removeClass(function(a,b){return(b.match(/(^|\s)cuar-state-\S+/g)||[]).join(" ")}),a.addClass("cuar-state-"+b);var c=a.children(".cuar-actions"),e=a.children(".cuar-progress");switch(b){case"pending":c.hide(),e.show(),d._updateAttachmentItemProgress(a,0);break;case"error":c.show(),e.hide();break;case"success":c.show(),e.hide()}},d._updateAttachmentItemProgress=function(a,b){var c=a.children(".cuar-progress"),d=c.children(".indeterminate"),e=c.children(".determinate");0>=b?(d.show(),e.hide()):(d.hide(),e.show(),e.css({width:b+"%"}))},d._showError=function(b,c,e,f){if(null!=b&&(f?b.remove():d._updateAttachmentItemState(b,"error")),null!=e&&e.length>0){var g='<p class="cuar-error">';null!=c&&c.length>0&&(g+="<strong>"+c+"</strong> - "),g+=e,g+='<a href="#" class="cuar-dismiss"><span class="dashicons dashicons-dismiss"></span></a>',g+="</p>",a(g).appendTo(d._getErrorList())}},d._onDismissError=function(b){a(this).closest(".cuar-error").remove(),b.preventDefault()},d._getErrorList=function(){return a(d.options.errorList,d.el)},d._getAttachmentList=function(){return a(d.options.attachmentList)},d._getAttachmentListEmptyMessage=function(){return a(".cuar-empty-message",d._getAttachmentList())},d._getAttachmentItems=function(){return a(d.options.attachmentList+">"+d.options.attachmentItem)},d._getAttachmentItemByFilename=function(b){return d._getAttachmentItems().filter(function(){return a(this).data("filename")==b})},d._getAttachmentListRemoveNonce=function(){return a("#cuar_remove_attachment_nonce",d._getAttachmentList()).val()},d._getAttachmentTemplate=function(){return a(d.options.attachmentItemTemplate).children(d.options.attachmentItem).first()},d._getSelectorInput=function(){return a(d.options.selectorInput,d.el)},d._getSelectors=function(){return a(d.options.selectorList+">"+d.options.selectorItem,d.el)},d.init()},a.cuar.fileAttachmentManager.defaultOptions={errorList:".cuar-file-attachment-errors",attachmentList:".cuar-file-attachments",attachmentItem:".cuar-file-attachment",attachmentItemTemplate:".cuar-file-attachment-template",selectorList:".cuar-file-selectors",selectorItem:".cuar-file-selector",selectorInput:".cuar-file-selector-input"},a.fn.fileAttachmentManager=function(b){return this.each(function(){new a.cuar.fileAttachmentManager(this,b)})}}(jQuery),function(a){a.cuar||(a.cuar={}),a.cuar.ftpUploader=function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("cuar.ftpUploader",d),d.init=function(){d.options=a.extend({},a.cuar.ftpUploader.defaultOptions,c),d._getAddButton().click(d._onAddButtonClicked),a(document).on("cuar:attachmentManager:fileAttached",d._removeFileFromSelect)},d._removeFileFromSelect=function(b,c,e,f,g,h){var i=d._getFtpOperation();"ftp-move"==i&&d._getSelectBox().children().filter(function(){return a(this).val()==f}).remove()},d._onAddButtonClicked=function(b){b.preventDefault();var c=d._getSelectedFiles(),e=d._getPostId(),f=d._getFtpOperation();if(null!=c&&0!=c.length)for(var g=0,h=c.length;h>g;g++){var i=c[g],j=a(document).triggerHandler("cuar:attachmentManager:addItem",[e,i,i]);null!=j&&a(document).trigger("cuar:attachmentManager:sendFile",[j,"ftp-folder",e,d._getNonce(),i,"",f])}},d._getFtpOperation=function(){return d._getCopyCheckbox().is(":checked")?"ftp-copy":"ftp-move"},d._getNonce=function(){return a("#cuar_ftp-folder_"+d._getPostId(),d.el).val()},d._getPostId=function(){return d.$el.data("post-id")},d._getSelectedFiles=function(){return d._getSelectBox().val()},d._getAddButton=function(){return a(d.options.addButton,d.el)},d._getSelectBox=function(){return a(d.options.selectBox,d.el).first()},d._getCopyCheckbox=function(){return a(d.options.copyCheckbox,d.el).first()},d.init()},a.cuar.ftpUploader.defaultOptions={addButton:".cuar-ftp-add-files",selectBox:".cuar-ftp-file-selection",copyCheckbox:".cuar-copy-file-checkbox"},a.fn.ftpUploader=function(b){return this.each(function(){new a.cuar.ftpUploader(this,b)})}}(jQuery),function(a){function b(a,b){var c=a.options.animationSpeed/1e3;return b.css({transition:c+"s right, "+c+"s left, "+c+"s top, "+c+"s bottom, "+c+"s height, "+c+"s width"}),!0}function c(a){return a.css({transition:"none"}),!0}var d={width:400,height:"65%",minimizedWidth:200,gutter:10,poppedOutDistance:"6%",title:function(){return""},dialogClass:"",buttons:[],animationSpeed:400,opacity:1,initialState:"modal",showClose:!0,showPopout:!0,showMinimize:!0,create:void 0,open:void 0,beforeClose:void 0,close:void 0,beforeMinimize:void 0,minimize:void 0,beforeRestore:void 0,restore:void 0,beforePopout:void 0,popout:void 0},e="dockmodal",f=(a(window).width(),{init:function(c){return this.each(function(){var g=a(this),h=g.data("dockmodal");if(g.options=a.extend({},d,c),function(){"function"==typeof g.options.title&&(g.options.title=g.options.title.call(g))}(),h)return a("body").append(g.closest("."+e).show()),f.refreshLayout(),void setTimeout(function(){f.restore.apply(g)},g.options.animationSpeed);g.data("dockmodal",g);var i=a("body"),j=a(window),k=a("<div/>").addClass(e).addClass(g.options.dialogClass);"modal"==g.options.initialState?k.addClass("popped-out"):"minimized"==g.options.initialState&&k.addClass("minimized"),k.height(0),b(g,k);var l=a("<div></div>").addClass(e+"-header");g.options.showClose&&a('<a href="#" class="header-action action-close" title="Close"><i class="icon-dockmodal-close"></i></a>').appendTo(l).click(function(a){return f.destroy.apply(g),!1}),g.options.showPopout&&a('<a href="#" class="header-action action-popout" title="Pop out"><i class="icon-dockmodal-popout"></i></a>').appendTo(l).click(function(a){return k.hasClass("popped-out")?f.restore.apply(g):f.popout.apply(g),!1}),g.options.showMinimize&&a('<a href="#" class="header-action action-minimize" title="Minimize"><i class="icon-dockmodal-minimize"></i></a>').appendTo(l).click(function(a){return k.hasClass("minimized")?k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g):f.minimize.apply(g),!1}),g.options.showMinimize&&g.options.showPopout&&l.click(function(){return k.hasClass("minimized")?k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g):f.minimize.apply(g),!1}),l.append('<div class="title-text">'+(g.options.title||g.attr("title"))+"</div>"),k.append(l);var m=a('<div class="modal-placeholder"></div>').insertAfter(g);g.placeholder=m;var n=a("<div></div>").addClass(e+"-body").append(g);if(k.append(n),g.options.buttons.length){var o=a("<div></div>").addClass(e+"-footer"),p=a("<div></div>").addClass(e+"-footer-buttonset");o.append(p),a.each(g.options.buttons,function(b,c){var d=a('<a href="#" class="btn"></a>');d.attr({id:c.id,"class":c.buttonClass}),d.html(c.html),d.click(function(a){return c.click(a,g),!1}),p.append(d)}),k.append(o)}else k.addClass("no-footer");var q=a("."+e+"-overlay");q.length||(q=a("<div/>").addClass(e+"-overlay")),a.isFunction(g.options.create)&&g.options.create(g),i.append(k),k.after(q),n.focus(),a.isFunction(g.options.open)&&setTimeout(function(){g.options.open(g)},g.options.animationSpeed),k.hasClass("minimized")?(k.find(".dockmodal-body, .dockmodal-footer").hide(),f.minimize.apply(g)):k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g),i.data("windowWidth",j.width()),j.unbind("resize.dockmodal").bind("resize.dockmodal",function(){j.width()!=i.data("windowWidth")&&(i.data("windowWidth",j.width()),f.refreshLayout())})})},destroy:function(){return this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeClose)||b.options.beforeClose(b)!==!1))try{var c=b.closest("."+e);c.hasClass("popped-out")&&!c.hasClass("minimized")?c.css({left:"50%",right:"50%",top:"50%",bottom:"50%"}):c.css({width:"0",height:"0"}),setTimeout(function(){b.removeData("dockmodal"),b.placeholder.replaceWith(b),c.remove(),a("."+e+"-overlay").hide(),f.refreshLayout(),a.isFunction(b.options.close)&&b.options.close(b)},b.options.animationSpeed)}catch(d){alert(d.message)}})},close:function(){f.destroy.apply(this)},minimize:function(){return this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeMinimize)||b.options.beforeMinimize(b)!==!1)){var c=b.closest("."+e),d=c.find(".dockmodal-header").outerHeight();c.addClass("minimized").css({width:b.options.minimizedWidth+"px",height:d+"px",left:"auto",right:"auto",top:"auto",bottom:"0"}),setTimeout(function(){c.find(".dockmodal-body, .dockmodal-footer").hide(),a.isFunction(b.options.minimize)&&b.options.minimize(b)},b.options.animationSpeed),a("."+e+"-overlay").hide(),c.find(".action-minimize").attr("title","Restore"),f.refreshLayout()}})},restore:function(){return this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeRestore)||b.options.beforeRestore(b)!==!1)){var c=b.closest("."+e);c.removeClass("minimized popped-out"),c.find(".dockmodal-body, .dockmodal-footer").show(),c.css({width:b.options.width+"px",height:b.options.height,left:"auto",right:"auto",top:"auto",bottom:"0"}),a("."+e+"-overlay").hide(),c.find(".action-minimize").attr("title","Minimize"),c.find(".action-popout").attr("title","Pop-out"),setTimeout(function(){a.isFunction(b.options.restore)&&b.options.restore(b)},b.options.animationSpeed),f.refreshLayout()}})},popout:function(){return this.each(function(){var d=a(this).data("dockmodal");if(d&&(!a.isFunction(d.options.beforePopout)||d.options.beforePopout(d)!==!1)){var g=d.closest("."+e);g.find(".dockmodal-body, .dockmodal-footer").show(),c(g);var h=g.position(),i=a(window).width();g.css({width:"auto",height:"auto",left:h.left+"px",right:i-h.left-g.outerWidth(!0)+"px",top:h.top+"px",bottom:0}),b(d,g),setTimeout(function(){g.removeClass("minimized").addClass("popped-out").css({width:"auto",height:"auto",left:d.options.poppedOutDistance,right:d.options.poppedOutDistance,top:d.options.poppedOutDistance,bottom:d.options.poppedOutDistance}),a("."+e+"-overlay").show(),g.find(".action-popout").attr("title","Pop-in"),f.refreshLayout()},10),setTimeout(function(){a.isFunction(d.options.popout)&&d.options.popout(d)},d.options.animationSpeed)}})},refreshLayout:function(){var b=0,c=a(window).width();a.each(a("."+e).toArray().reverse(),function(d,f){var g=a(this),h=g.find("."+e+"-body > div").data("dockmodal");(!g.hasClass("popped-out")||g.hasClass("minimized"))&&(b+=h.options.gutter,g.css({right:b+"px"}),b+=g.hasClass("minimized")?h.options.minimizedWidth:h.options.width,b>c?g.hide():setTimeout(function(){g.show()},h.options.animationSpeed))})}});a.fn.dockmodal=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.dockmodal"):f.init.apply(this,arguments)}}(jQuery),function(a,b,c,d){a.fn.adminpanel=function(c){var d={grid:".admin-grid",draggable:!1,mobile:!1,preserveGrid:!1,onPanel:function(){console.log("callback:","onPanel")},onStart:function(){console.log("callback:","onStart")},onSave:function(){console.log("callback:","onSave")},onDrop:function(){console.log("callback:","onDrop")},onFinish:function(){console.log("callback:","onFinish")}},c=a.extend({},d,c),e=a(this),f=(e.attr("id"),c.grid),g=c.draggable,h=c.mobile,i=c.preserveGrid,j=e.find(".panel"),k="panel-settings_"+location.pathname,l="panel-positions_"+location.pathname,m=localStorage.getItem(k),n=localStorage.getItem(l);a(".panel").on("click",".panel-controls > a",function(b){b.preventDefault(),a("body.ui-drag-active").length||o.controlHandlers.call(this,c)});var o={init:function(b){a(this);if("function"==typeof b.onStart&&b.onStart(),n?o.setPositions():localStorage.setItem(l,o.findPositions()),m||localStorage.setItem(k,o.modifySettings()),a(f).each(function(b,c){a(c).attr("id","grid-"+b)}),i){var c="<div class='panel preserve-grid'></div>";a(f).each(function(b,d){a(d).append(c)})}o.createControls(b),o.createMobileControls(b),o.applySettings(),g===!0&&e.sortable({items:e.find('.panel:not(".sort-disable")'),connectWith:f,cursor:"default",revert:250,handle:".panel-heading",opacity:1,delay:100,tolerance:"pointer",scroll:!0,placeholder:"panel-placeholder",forcePlaceholderSize:!0,forceHelperSize:!0,start:function(b,c){a("body").addClass("ui-drag-active"),c.placeholder.height(c.helper.outerHeight()-4)},beforeStop:function(){"function"==typeof b.onDrop&&b.onDrop()},stop:function(){a("body").removeClass("ui-drag-active")},update:function(a,c){o.toggleLoader(),o.updatePositions(b)}}),"function"==typeof b.onFinish&&b.onFinish()},createMobileControls:function(b){var c=j.find(".panel-controls"),d={};a.each(c,function(b,c){var e=a(c),f=a(c).parents(".panel").attr("id"),g=e.width(),h=e.siblings(".panel-title").width(),i=(e.parent(".panel-heading").width(),g+h);d[f]=i}),console.log(d),a.each(d,function(b,c){var d=a("#"+b),e=d.width()-75,f=d.find(".panel-controls");if(h===!0||c>e){d.addClass("mobile-controls");var g={html:!0,placement:"left",content:function(b){var c=a(this).clone();return c},template:'<div data-popover-id="'+b+'" class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'};f.popover(g)}else f.removeClass("mobile-controls")}),a(".mobile-controls .panel-heading > .panel-controls").on("click",function(){a(this).toggleClass("panel-controls-open")})},applySettings:function(b){var c=localStorage.getItem(k),d=JSON.parse(c),e="panel-primary panel-success panel-info panel-warning panel-danger panel-alert panel-system panel-dark panel-default";a.each(d,function(b,c){a.each(c,function(b,c){var d=c.id,f=c.title,g=c.collapsed,h=c.hidden,i=c.color,j=a("#"+d);f&&j.children(".panel-heading").find(".panel-title").text(f),1===g&&j.addClass("panel-collapsed").children(".panel-body, .panel-menu, .panel-footer").hide(),i&&j.removeClass(e).addClass(i).attr("data-panel-color",i),1===h&&j.addClass("panel-hidden").hide().remove()})})},createControls:function(b){var c='<span class="panel-controls"></span>',d='<a href="#" class="panel-control-title"></a>',e='<a href="#" class="panel-control-color"></a>',f='<a href="#" class="panel-control-collapse"></a>',g='<a href="#" class="panel-control-fullscreen"></a>',h='<a href="#" class="panel-control-remove"></a>',i='<a href="#" class="panel-control-callback"></a>',k='<a href="#" class="panel-control-dockable" data-toggle="popover" data-content="panelDockContent();"></a>',l='<a href="#" class="panel-control-expose"></a>',m='<a href="#" class="panel-control-loader"></a>';j.each(function(b,j){var n=a(j),o=n.children(".panel-heading");a(c).appendTo(o);var p=n.attr("data-panel-title"),q=n.attr("data-panel-color"),r=n.attr("data-panel-collapse"),s=n.attr("data-panel-fullscreen"),t=n.attr("data-panel-remove"),u=n.attr("data-panel-callback"),v=n.attr("data-panel-dockable"),w=n.attr("data-panel-expose"),x=n.attr("data-panel-loader");if(!x){var y=o.find(".panel-controls");a(m).appendTo(y)}if(w){var y=o.find(".panel-controls");a(l).appendTo(y)}if(v){var y=o.find(".panel-controls");a(k).appendTo(y)}if(u){var y=o.find(".panel-controls");a(i).appendTo(y)}if(!t){var y=o.find(".panel-controls");a(h).appendTo(y)}if(!p){var y=o.find(".panel-controls");a(d).appendTo(y)}if(!q){var y=o.find(".panel-controls");a(e).appendTo(y)}if(!r){var y=o.find(".panel-controls");a(f).appendTo(y)}if(!s){var y=o.find(".panel-controls");a(g).appendTo(y)}})},controlHandlers:function(d){var f=a(this),h=(f.attr("class"),f.parents(".panel")),i=h.children(".panel-heading"),j=h.find(".panel-title"),k=function(){var a=function(){var a=h.find(".panel-editbox");a.slideToggle("fast",function(){h.toggleClass("panel-editbox-open"),h.hasClass("panel-editbox-open")||(j.text(a.children("input").val()),o.updateSettings(c))})};if(h.find(".panel-editbox").length)a();else{var b='<div class="panel-editbox"><input type="text" class="form-control" value="'+j.text()+'"></div>';i.after(b);var d=h.find(".panel-editbox");d.children("input").on("keyup",function(){j.text(d.children("input").val())}),d.children("input").on("keypress",function(b){13==b.which&&a()}),a()}},l=function(){if(!h.find(".panel-colorbox").length){var b='<div class="panel-colorbox"> <span class="bg-white" data-panel-color="panel-default"></span> <span class="bg-primary" data-panel-color="panel-primary"></span> <span class="bg-info" data-panel-color="panel-info"></span> <span class="bg-success" data-panel-color="panel-success"></span> <span class="bg-warning" data-panel-color="panel-warning"></span> <span class="bg-danger" data-panel-color="panel-danger"></span> <span class="bg-alert" data-panel-color="panel-alert"></span> <span class="bg-system" data-panel-color="panel-system"></span> <span class="bg-dark" data-panel-color="panel-dark"></span> </div>';i.after(b)}var d=h.find(".panel-colorbox");d.on("click","> span",function(b){var d=a(this).data("panel-color"),e="panel-primary panel-info panel-success panel-warning panel-danger panel-alert panel-system panel-dark panel-default panel-white";h.removeClass(e).addClass(d).data("panel-color",d),o.updateSettings(c)}),d.slideToggle("fast",function(){h.toggleClass("panel-colorbox-open")})},m=function(){h.toggleClass("panel-collapsed"),h.children(".panel-body, .panel-menu, .panel-footer").slideToggle("fast",function(){o.updateSettings(c)})},n=function(){a("body.panel-fullscreen-active").length?(a("body").removeClass("panel-fullscreen-active"),h.removeClass("panel-fullscreen"),g===!0&&e.sortable("enable")):(a("body").addClass("panel-fullscreen-active"),h.addClass("panel-fullscreen"),g===!0&&e.sortable("disable")),a(".panel-controls").removeClass("panel-controls-open"),a(".popover").popover("hide"),setTimeout(function(){a(b).trigger("resize")},100)},p=function(){bootbox.confirm?bootbox.confirm("Are You Sure?!",function(a){a&&setTimeout(function(){h.addClass("panel-removed").hide(),o.updateSettings(c)},200)}):(h.addClass("panel-removed").hide(),o.updateSettings(c))},q=function(){"function"==typeof c.onPanel&&c.onPanel()},r=function(){};a(this).hasClass("panel-control-collapse")&&m(),a(this).hasClass("panel-control-title")&&k(),a(this).hasClass("panel-control-color")&&l(),a(this).hasClass("panel-control-fullscreen")&&n(),a(this).hasClass("panel-control-remove")&&p(),a(this).hasClass("panel-control-callback")&&q(),a(this).hasClass("panel-control-expose")&&r(),a(this).hasClass("panel-control-dockable")||a(this).hasClass("panel-control-loader")||o.toggleLoader.call(this)},toggleLoader:function(b){var c=a(this),d=c.parents(".panel");d.addClass("panel-loader-active"),setTimeout(function(){d.removeClass("panel-loader-active")},650)},modifySettings:function(b){var c=[];j.each(function(b,d){var e=a(d),f={},g=(e.attr("id"),e.children(".panel-heading").find(".panel-title").text(),e.hasClass("panel-collapsed")?1:0,e.is(":hidden")?1:0,e.data("panel-color"));f.id=e.attr("id"),f.title=e.children(".panel-heading").find(".panel-title").text(),f.collapsed=e.hasClass("panel-collapsed")?1:0,f.hidden=e.is(":hidden")?1:0,f.color=g?g:null,c.push({panel:f})});var d=JSON.stringify(c);return d},findPositions:function(b){var c=e.find(f),d=[];c.each(function(b,c){var e=a(c).find(".panel"),f=[];a(c).attr("id","grid-"+b),e.each(function(b,c){var d=a(c).attr("id");f.push(d)}),d[b]=f});var g=JSON.stringify(d);return g},setPositions:function(b){var c=localStorage.getItem(l),d=JSON.parse(c);a(f).each(function(b,c){var e=a(c);a.each(d[b],function(b,c){a("#"+c).appendTo(e)})})},updatePositions:function(a){localStorage.setItem(l,o.findPositions()),"function"==typeof a.onSave&&a.onSave()},updateSettings:function(a){localStorage.setItem(k,o.modifySettings()),"function"==typeof a.onSave&&a.onSave();
}};return this.each(function(){o.init.call(e,c)})}}(jQuery,window,document),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.bootbox=b(a.jQuery)}(this,function a(b,c){"use strict";function d(a){var b=q[o.locale];return b?b[a]:q.en[a]}function e(a,c,d){a.stopPropagation(),a.preventDefault();var e=b.isFunction(d)&&d(a)===!1;e||c.modal("hide")}function f(a){var b,c=0;for(b in a)c++;return c}function g(a,c){var d=0;b.each(a,function(a,b){c(a,b,d++)})}function h(a){var c,d;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=b.extend({},o,a),a.buttons||(a.buttons={}),a.backdrop=a.backdrop?"static":!1,c=a.buttons,d=f(c),g(c,function(a,e,f){if(b.isFunction(e)&&(e=c[a]={callback:e}),"object"!==b.type(e))throw new Error("button with key "+a+" must be an object");e.label||(e.label=a),e.className||(2>=d&&f===d-1?e.className="btn-primary":e.className="btn-default")}),a}function i(a,b){var c=a.length,d={};if(1>c||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function j(a,c,d){return b.extend(!0,{},a,i(c,d))}function k(a,b,c,d){var e={className:"bootbox-"+a,buttons:l.apply(null,b)};return m(j(e,d,c),b)}function l(){for(var a={},b=0,c=arguments.length;c>b;b++){var e=arguments[b],f=e.toLowerCase(),g=e.toUpperCase();a[f]={label:d(g)}}return a}function m(a,b){var d={};return g(b,function(a,b){d[b]=!0}),g(a.buttons,function(a){if(d[a]===c)throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var n={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:!0,animate:!0,className:null,keyboard:!1,closeButton:!0,show:!0,container:"body"},p={};p.defineLocale=function(a,b){return b?(q[a]={OK:b.OK,CANCEL:b.CANCEL,CONFIRM:b.CONFIRM},q[a]):(delete q[a],null)},p.alert=function(){var a;if(a=k("alert",["ok"],["message","callback"],arguments),a.callback&&!b.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return b.isFunction(a.callback)?a.callback():!0},p.dialog(a)},p.confirm=function(){var a;if(a=k("confirm",["cancel","confirm"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)},a.buttons.confirm.callback=function(){return a.callback(!0)},!b.isFunction(a.callback))throw new Error("confirm requires a callback");return p.dialog(a)},p.prompt=function(){var a,d,e,f,h,i,k;if(f=b(n.form),d={className:"bootbox-prompt",buttons:l("cancel","confirm"),value:"",inputType:"text"},a=m(j(d,arguments,["title","callback"]),["cancel","confirm"]),i=a.show===c?!0:a.show,a.message=f,a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)},a.buttons.confirm.callback=function(){var c;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":c=h.val();break;case"checkbox":var d=h.find("input:checked");c=[],g(d,function(a,d){c.push(b(d).val())})}return a.callback(c)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!b.isFunction(a.callback))throw new Error("prompt requires a callback");if(!n.inputs[a.inputType])throw new Error("invalid prompt type");switch(h=b(n.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":h.val(a.value);break;case"select":var o={};if(k=a.inputOptions||[],!k.length)throw new Error("prompt with select requires options");g(k,function(a,d){var e=h;if(d.value===c||d.text===c)throw new Error("given options in wrong format");d.group&&(o[d.group]||(o[d.group]=b("<optgroup/>").attr("label",d.group)),e=o[d.group]),e.append("<option value='"+d.value+"'>"+d.text+"</option>")}),g(o,function(a,b){h.append(b)}),h.val(a.value);break;case"checkbox":var q=b.isArray(a.value)?a.value:[a.value];if(k=a.inputOptions||[],!k.length)throw new Error("prompt with checkbox requires options");if(!k[0].value||!k[0].text)throw new Error("given options in wrong format");h=b("<div/>"),g(k,function(c,d){var e=b(n.inputs[a.inputType]);e.find("input").attr("value",d.value),e.find("label").append(d.text),g(q,function(a,b){b===d.value&&e.find("input").prop("checked",!0)}),h.append(e)})}return a.placeholder&&h.attr("placeholder",a.placeholder),a.pattern&&h.attr("pattern",a.pattern),f.append(h),f.on("submit",function(a){a.preventDefault(),a.stopPropagation(),e.find(".btn-primary").click()}),e=p.dialog(a),e.off("shown.bs.modal"),e.on("shown.bs.modal",function(){h.focus()}),i===!0&&e.modal("show"),e},p.dialog=function(a){a=h(a);var d=b(n.dialog),f=d.find(".modal-dialog"),i=d.find(".modal-body"),j=a.buttons,k="",l={onEscape:a.onEscape};if(b.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(g(j,function(a,b){k+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",l[a]=b.callback}),i.find(".bootbox-body").html(a.message),a.animate===!0&&d.addClass("fade"),a.className&&d.addClass(a.className),"large"===a.size&&f.addClass("modal-lg"),"small"===a.size&&f.addClass("modal-sm"),a.title&&i.before(n.header),a.closeButton){var m=b(n.closeButton);a.title?d.find(".modal-header").prepend(m):m.css("margin-top","-10px").prependTo(i)}return a.title&&d.find(".modal-title").html(a.title),k.length&&(i.after(n.footer),d.find(".modal-footer").html(k)),d.on("hidden.bs.modal",function(a){a.target===this&&d.remove()}),d.on("shown.bs.modal",function(){d.find(".btn-primary:first").focus()}),d.on("escape.close.bb",function(a){l.onEscape&&e(a,d,l.onEscape)}),d.on("click",".modal-footer button",function(a){var c=b(this).data("bb-handler");e(a,d,l[c])}),d.on("click",".bootbox-close-button",function(a){e(a,d,l.onEscape)}),d.on("keyup",function(a){27===a.which&&d.trigger("escape.close.bb")}),b(a.container).append(d),d.modal({backdrop:a.backdrop,keyboard:a.keyboard||!1,show:!1}),a.show&&d.modal("show"),d},p.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],b.extend(o,a)},p.hideAll=function(){return b(".bootbox").modal("hide"),p};var q={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return p.init=function(c){return a(c||b)},p}),function(a){function b(a){return"undefined"!=typeof a}function c(b,c,d){var e=function(){};e.prototype=c.prototype,b.prototype=new e,b.prototype.constructor=b,c.prototype.constructor=c,b._super=c.prototype,d&&a.extend(b.prototype,d)}function d(a,c){var d;"string"==typeof a&&(c=a,a=document);for(var g=0;g<e.length;++g){c=c.replace(e[g][0],e[g][1]);for(var h=0;h<f.length;++h)if(d=f[h],d+=0===h?c:c.charAt(0).toUpperCase()+c.substr(1),b(a[d]))return a[d]}return void 0}var e=[["",""],["exit","cancel"],["screen","Screen"]],f=["","o","ms","moz","webkit","webkitCurrent"],g=navigator.userAgent,h=d("fullscreenEnabled"),i=-1!==g.indexOf("Android")&&-1!==g.indexOf("Chrome"),j=!i&&b(d("fullscreenElement"))&&(!b(h)||h===!0),k=a.fn.jquery.split("."),l=parseInt(k[0])<2&&parseInt(k[1])<7,m=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};m.prototype={_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null},__documentOverflow:"visible",__htmlOverflow:"visible",_preventDocumentScroll:function(){this.__documentOverflow=a("body")[0].style.overflow,this.__htmlOverflow=a("html")[0].style.overflow},_allowDocumentScroll:function(){a("body")[0].style.overflow=this.__documentOverflow,a("html")[0].style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(b){this.__options&&(this._revertStyles(),this._fullScreenElement=null,b&&a(document).trigger("fscreenerror",[b]))},_triggerEvents:function(){a(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),a(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var b=a(this._fullScreenElement);this.__savedStyles={};for(var c in this.__options.styles)this.__savedStyles[c]=this._fullScreenElement.style[c],this._fullScreenElement.style[c]=this.__options.styles[c];this.__options.toggleClass&&b.addClass(this.__options.toggleClass)},_revertStyles:function(){var b=a(this._fullScreenElement);for(var c in this.__options.styles)this._fullScreenElement.style[c]=this.__savedStyles[c];this.__options.toggleClass&&b.removeClass(this.__options.toggleClass)},open:function(b,c){b!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=b,this.__options=a.extend(!0,{},this._DEFAULT_OPTIONS,c),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return j}};var n=function(){n._super.constructor.apply(this,arguments),this.exit=a.proxy(d("exitFullscreen"),document),this._DEFAULT_OPTIONS=a.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}}),a(document).bind(this._prefixedString("fullscreenchange")+" MSFullscreenChange",a.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror")+" MSFullscreenError",a.proxy(this._fullScreenError,this))};c(n,m,{VENDOR_PREFIXES:["","o","moz","webkit"],_prefixedString:function(b){return a.map(this.VENDOR_PREFIXES,function(a){return a+b}).join(" ")},open:function(a,b){n._super.open.apply(this,arguments);var c=d(a,"requestFullscreen");c.call(a)},exit:a.noop,isFullScreen:function(){return null!==d("fullscreenElement")},element:function(){return d("fullscreenElement")}});var o=function(){o._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=a.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};c(o,m,{__isFullScreen:!1,__delegateKeydownHandler:function(){var b=a(document);b.delegate("*","keydown.fullscreen",a.proxy(this.__keydownHandler,this));var c=l?b.data("events"):a._data(document).events,d=c.keydown;l?c.live.unshift(c.live.pop()):d.splice(0,0,d.splice(d.delegateCount-1,1)[0])},__keydownHandler:function(a){return this.isFullScreen()&&27===a.which?(this.exit(),!1):!0},_revertStyles:function(){o._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(a){o._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen=!1,this._fullScreenChange()},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),a.fullscreen=j?new n:new o,a.fn.fullscreen=function(b){var c=this[0];return b=a.extend({toggleClass:null,overflow:"hidden"},b),b.styles={overflow:b.overflow},delete b.overflow,c&&a.fullscreen.open(c,b),this}}(jQuery),function(a){a.fn.hoverIntent=function(b,c,d){var e={interval:100,sensitivity:6,timeout:0};e="object"==typeof b?a.extend(e,b):a.isFunction(c)?a.extend(e,{over:b,out:c,selector:d}):a.extend(e,{over:b,out:b,selector:c});var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.sqrt((h-f)*(h-f)+(i-g)*(i-g))<e.sensitivity?(a(c).off("mousemove.hoverIntent",j),c.hoverIntent_s=!0,e.over.apply(c,[b])):(h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(b,c)},e.interval),void 0)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=!1,e.out.apply(b,[a])},m=function(b){var c=a.extend({},b),d=this;d.hoverIntent_t&&(d.hoverIntent_t=clearTimeout(d.hoverIntent_t)),"mouseenter"===b.type?(h=c.pageX,i=c.pageY,a(d).on("mousemove.hoverIntent",j),d.hoverIntent_s||(d.hoverIntent_t=setTimeout(function(){k(c,d)},e.interval))):(a(d).off("mousemove.hoverIntent",j),d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){l(c,d)},e.timeout)))};return this.on({"mouseenter.hoverIntent":m,"mouseleave.hoverIntent":m},e.selector)}}(jQuery),!function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return a.replace(/(:|\.|\/)/g,"\\$1")}var c="1.5.4",d={},e={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},f=function(b){var c=[],d=!1,e=b.dir&&"left"===b.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!==document&&this!==window){var b=a(this);b[e]()>0?c.push(this):(b[e](1),d=b[e]()>0,d&&c.push(this),b[e](0))}}),c.length||this.each(function(){"BODY"===this.nodeName&&(c=[this])}),"first"===b.el&&c.length>1&&(c=[c[0]]),c};a.fn.extend({scrollable:function(a){var b=f.call(this,{dir:a});return this.pushStack(b)},firstScrollable:function(a){var b=f.call(this,{el:"first",dir:a});return this.pushStack(b)},smoothScroll:function(c,d){if(c=c||{},"options"===c)return d?this.each(function(){var b=a(this),c=a.extend(b.data("ssOpts")||{},d);a(this).data("ssOpts",c)}):this.first().data("ssOpts");var e=a.extend({},a.fn.smoothScroll.defaults,c),f=a.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(c){var d=this,g=a(this),h=a.extend({},e,g.data("ssOpts")||{}),i=e.exclude,j=h.excludeWithin,k=0,l=0,m=!0,n={},o=location.hostname===d.hostname||!d.hostname,p=h.scrollTarget||a.smoothScroll.filterPath(d.pathname)===f,q=b(d.hash);if(h.scrollTarget||o&&p&&q){for(;m&&i.length>k;)g.is(b(i[k++]))&&(m=!1);for(;m&&j.length>l;)g.closest(j[l++]).length&&(m=!1)}else m=!1;m&&(h.preventDefault&&c.preventDefault(),a.extend(n,h,{scrollTarget:h.scrollTarget||q,link:d}),a.smoothScroll(n))}),this}}),a.smoothScroll=function(b,c){if("options"===b&&"object"==typeof c)return a.extend(d,c);var e,f,g,h,i,j=0,k="offset",l="scrollTop",m={},n={};"number"==typeof b?(e=a.extend({link:null},a.fn.smoothScroll.defaults,d),g=b):(e=a.extend({link:null},a.fn.smoothScroll.defaults,b||{},d),e.scrollElement&&(k="position","static"===e.scrollElement.css("position")&&e.scrollElement.css("position","relative"))),l="left"===e.direction?"scrollLeft":l,e.scrollElement?(f=e.scrollElement,/^(?:HTML|BODY)$/.test(f[0].nodeName)||(j=f[l]())):f=a("html, body").firstScrollable(e.direction),e.beforeScroll.call(f,e),g="number"==typeof b?b:c||a(e.scrollTarget)[k]()&&a(e.scrollTarget)[k]()[e.direction]||0,m[l]=g+j+e.offset,h=e.speed,"auto"===h&&(i=m[l]-f.scrollTop(),0>i&&(i*=-1),h=i/e.autoCoefficient),n={duration:h,easing:e.easing,complete:function(){e.afterScroll.call(e.link,e)}},e.step&&(n.step=e.step),f.length?f.stop().animate(m,n):e.afterScroll.call(e.link,e)},a.smoothScroll.version=c,a.smoothScroll.filterPath=function(a){return a=a||"",a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},a.fn.smoothScroll.defaults=e}),!function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)},d._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),f.call(b)}}}(jQuery);var JSON;JSON||(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){var b=a.prop("clientWidth"),c=a.prop("offsetWidth"),d=parseInt(a.css("border-right-width"),10),e=parseInt(a.css("border-left-width"),10);return c>b+e+d}var c="onmousewheel"in window?"ActiveXObject"in window?"wheel":"mousewheel":"DOMMouseScroll",d=".scrollLock",e=a.fn.scrollLock;a.fn.scrollLock=function(e,f,g){return"string"!=typeof f&&(f=null),void 0!==e&&!e||"off"===e?this.each(function(){a(this).off(d)}):this.each(function(){a(this).on(c+d,f,function(c){if(!c.ctrlKey){var d=a(this);if(g===!0||b(d)){c.stopPropagation();var e=d.scrollTop(),f=d.prop("scrollHeight"),h=d.prop("clientHeight"),i=c.originalEvent.wheelDelta||-1*c.originalEvent.detail||-1*c.originalEvent.deltaY,j=0;if("wheel"===c.type){var k=d.height()/a(window).height();j=c.originalEvent.deltaY*k}(i>0&&0>=e+j||0>i&&e+j>=f-h)&&(c.preventDefault(),j&&d.scrollTop(e+j))}}})})},a.fn.scrollLock.noConflict=function(){return a.fn.scrollLock=e,this}}),!function(a){"use strict";function b(a){return ko.isObservable(a)&&!(void 0===a.destroyAll)}function c(a,b){for(var c=0;c<a.length;++c)b(a[c])}function d(b,c){this.$select=a(b),this.options=this.mergeOptions(a.extend({},c,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=a.proxy(this.options.onChange,this),this.options.onDropdownShow=a.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=a.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=a.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=a.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&a("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={init:function(d,e,f,g,h){var i=f().selectedOptions,j=ko.utils.unwrapObservable(e());a(d).multiselect(j),b(i)&&(a(d).multiselect("select",ko.utils.unwrapObservable(i)),i.subscribe(function(b){var e=[],f=[];c(b,function(a){switch(a.status){case"added":e.push(a.value);break;case"deleted":f.push(a.value)}}),e.length>0&&a(d).multiselect("select",e),f.length>0&&a(d).multiselect("deselect",f)},null,"arrayChange"))},update:function(c,d,e,f,g){var h=e().options,i=a(c).data("multiselect"),j=ko.utils.unwrapObservable(d());b(h)&&h.subscribe(function(b){a(c).multiselect("rebuild")}),i?i.updateOriginalOptions():a(c).multiselect(j)}}),d.prototype={defaults:{buttonText:function(b,c){if(0===b.length)return this.nonSelectedText+' <b class="caret"></b>';if(b.length==a("option",a(c)).length)return this.allSelectedText+' <b class="caret"></b>';if(b.length>this.numberDisplayed)return b.length+" "+this.nSelectedText+' <b class="caret"></b>';var d="";return b.each(function(){var b=void 0!==a(this).attr("label")?a(this).attr("label"):a(this).html();d+=b+", "}),d.substr(0,d.length-2)+' <b class="caret"></b>'},buttonTitle:function(b,c){if(0===b.length)return this.nonSelectedText;var d="";return b.each(function(){d+=a(this).text()+", "}),d.substr(0,d.length-2)},label:function(b){return a(b).attr("label")||a(b).html()},onChange:function(a,b){},onDropdownShow:function(a){},onDropdownHide:function(a){},onDropdownShown:function(a){},onDropdownHidden:function(a){},buttonClass:"btn btn-default",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove"></i></button></span>',li:'<li><a href="javascript:void(0);"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:d,buildContainer:function(){this.$container=a(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=a(this.options.templates.button).addClass(this.options.buttonClass),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth}),this.$container.css({width:this.options.buttonWidth}));var b=this.$select.attr("tabindex");b&&this.$button.attr("tabindex",b),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=a(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(a.proxy(function(b,c){var d=a(c),e=d.prop("tagName").toLowerCase();d.prop("value")!==this.options.selectAllValue&&("optgroup"===e?this.createOptgroup(c):"option"===e&&("divider"===d.data("role")?this.createDivider():this.createOptionValue(c)))},this)),a("li input",this.$ul).on("change",a.proxy(function(b){var c=a(b.target),d=c.prop("checked")||!1,e=c.val()===this.options.selectAllValue;this.options.selectedClass&&(d?c.closest("li").addClass(this.options.selectedClass):c.closest("li").removeClass(this.options.selectedClass));var f=c.val(),g=this.getOptionByValue(f),h=a("option",this.$select).not(g),i=a("input",this.$container).not(c);return e&&(d?this.selectAll():this.deselectAll()),e||(d?(g.prop("selected",!0),this.options.multiple?g.prop("selected",!0):(this.options.selectedClass&&a(i).closest("li").removeClass(this.options.selectedClass),a(i).prop("checked",!1),h.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&h.closest("a").css("outline","")):g.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(g,d),this.options.preventInputChangeEvent?!1:void 0},this)),a("li a",this.$ul).on("touchstart click",function(b){b.stopPropagation();var c=a(b.target);if("Range"===document.getSelection().type){var d=a(this).find("input:first");d.prop("checked",!d.prop("checked")).trigger("change")}if(b.shiftKey){var e=c.prop("checked")||!1;if(e){var f=c.closest("li").siblings('li[class="active"]:first'),g=c.closest("li").index(),h=f.index();g>h?c.closest("li").prevUntil(f).each(function(){a(this).find("input:first").prop("checked",!0).trigger("change")}):c.closest("li").nextUntil(f).each(function(){a(this).find("input:first").prop("checked",!0).trigger("change")})}}c.blur()}),this.$container.off("keydown.multiselect").on("keydown.multiselect",a.proxy(function(b){if(!a('input[type="text"]',this.$container).is(":focus"))if(9===b.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var c=a(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!c.length)return;var d=c.index(c.filter(":focus"));38===b.keyCode&&d>0?d--:40===b.keyCode&&d<c.length-1?d++:~d||(d=0);var e=c.eq(d);if(e.focus(),32===b.keyCode||13===b.keyCode){var f=e.find("input");f.prop("checked",!f.prop("checked")),f.change()}b.stopPropagation(),b.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&a("li.multiselect-group",this.$ul).on("click",a.proxy(function(b){b.stopPropagation();var c=a(b.target).parent(),d=c.nextUntil("li.multiselect-group"),e=!0,f=d.find("input");f.each(function(){e=e&&a(this).prop("checked")}),f.prop("checked",!e).trigger("change")},this))},createOptionValue:function(b){var c=a(b);c.is(":selected")&&c.prop("selected",!0);var d=this.options.label(b),e=c.val(),f=this.options.multiple?"checkbox":"radio",g=a(this.options.templates.li),h=a("label",g);h.addClass(f);var i=a("<input/>").attr("type",f);this.options.checkboxName&&i.attr("name",this.options.checkboxName),h.append(i);
var j=c.prop("selected")||!1;i.val(e),e===this.options.selectAllValue&&(g.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all")),h.append(" "+d),h.attr("title",c.attr("title")),this.$ul.append(g),c.is(":disabled")&&i.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),i.prop("checked",j),j&&this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)},createDivider:function(b){var c=a(this.options.templates.divider);this.$ul.append(c)},createOptgroup:function(b){var c=a(b).prop("label"),d=a(this.options.templates.liGroup);a("label",d).text(c),this.options.enableClickableOptGroups&&d.addClass("multiselect-group-clickable"),this.$ul.append(d),a(b).is(":disabled")&&d.addClass("disabled"),a("option",b).each(a.proxy(function(a,b){this.createOptionValue(b)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var b=this.hasSelectAll();if(!b&&this.options.includeSelectAllOption&&this.options.multiple&&a("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(a(this.options.templates.divider));var c=a(this.options.templates.li);a("label",c).addClass("checkbox"),this.options.selectAllName?a("label",c).append('<input type="checkbox" name="'+this.options.selectAllName+'" />'):a("label",c).append('<input type="checkbox" />');var d=a("input",c);d.val(this.options.selectAllValue),c.addClass("multiselect-item multiselect-all"),d.parent().parent().addClass("multiselect-all"),a("label",c).append(" "+this.options.selectAllText),this.$ul.prepend(c),d.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var b=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=b){if(this.$filter=a(this.options.templates.filter),a("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var c=a(this.options.templates.filterClearBtn);c.on("click",a.proxy(function(b){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),a("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(c)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(a){a.stopPropagation()}).on("input keydown",a.proxy(function(b){13===b.which&&b.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(a.proxy(function(){if(this.query!==b.target.value){this.query=b.target.value;var c,d;a.each(a("li",this.$ul),a.proxy(function(b,e){var f=a("input",e).val(),g=a("label",e).text(),h="";if("text"===this.options.filterBehavior?h=g:"value"===this.options.filterBehavior?h=f:"both"===this.options.filterBehavior&&(h=g+"\n"+f),f!==this.options.selectAllValue&&g){var i=!1;this.options.enableCaseInsensitiveFiltering&&h.toLowerCase().indexOf(this.query.toLowerCase())>-1?i=!0:h.indexOf(this.query)>-1&&(i=!0),a(e).toggle(i).toggleClass("filter-hidden",!i),a(e).hasClass("multiselect-group")?(c=e,d=i):(i&&a(c).show().removeClass("filter-hidden"),!i&&d&&a(e).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){a("option",this.$select).each(a.proxy(function(b,c){var d=a("li input",this.$ul).filter(function(){return a(this).val()===a(c).val()});a(c).is(":selected")?(d.prop("checked",!0),this.options.selectedClass&&d.closest("li").addClass(this.options.selectedClass)):(d.prop("checked",!1),this.options.selectedClass&&d.closest("li").removeClass(this.options.selectedClass)),a(c).is(":disabled")?d.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):d.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(b,c){a.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d];if(null!==e&&void 0!==e){var f=this.getOptionByValue(e),g=this.getInputByValue(e);void 0!==f&&void 0!==g&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&g.closest("li").addClass(this.options.selectedClass),g.prop("checked",!0),f.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),c&&1===b.length&&this.options.onChange(f,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(b,c){a.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d];if(null!==e&&void 0!==e){var f=this.getOptionByValue(e),g=this.getInputByValue(e);void 0!==f&&void 0!==g&&(this.options.selectedClass&&g.closest("li").removeClass(this.options.selectedClass),g.prop("checked",!1),f.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),c&&1===b.length&&this.options.onChange(f,!1)},selectAll:function(b){var b="undefined"==typeof b?!0:b,c=a("li input[type='checkbox']:enabled",this.$ul),d=c.filter(":visible"),e=c.length,f=d.length;if(b?(d.prop("checked",!0),a("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(c.prop("checked",!0),a("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),e===f||b===!1)a("option:enabled",this.$select).prop("selected",!0);else{var g=d.map(function(){return a(this).val()}).get();a("option:enabled",this.$select).filter(function(b){return-1!==a.inArray(a(this).val(),g)}).prop("selected",!0)}},deselectAll:function(b){var b="undefined"==typeof b?!0:b;if(b){var c=a("li input[type='checkbox']:enabled",this.$ul).filter(":visible");c.prop("checked",!1);var d=c.map(function(){return a(this).val()}).get();a("option:enabled",this.$select).filter(function(b){return-1!==a.inArray(a(this).val(),d)}).prop("selected",!1),this.options.selectedClass&&a("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else a("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),a("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&a("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&a("option",this.$select).length<=0&&this.disable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(b){var d="",e=0,f=a("");a.each(b,function(b,g){var h;a.isArray(g.children)?(e++,h=a("<optgroup/>").attr({label:g.label||"Group "+e}),c(g.children,function(b){h.append(a("<option/>").attr({value:b.value,label:b.label||b.value,title:b.title,selected:!!b.selected}))}),d+="</optgroup>"):h=a("<option/>").attr({value:g.value,label:g.label||g.value,title:g.title,selected:!!g.selected}),f=f.add(h)}),this.$select.empty().append(f),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(a){this.options=this.mergeOptions(a)},mergeOptions:function(b){return a.extend(!0,{},this.defaults,b)},hasSelectAll:function(){return a("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var b=a("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),c=b.length,d=b.filter(":checked").length,e=a("li."+this.options.selectAllValue,this.$ul),f=e.find("input");d>0&&d===c?(f.prop("checked",!0),e.addClass(this.options.selectedClass)):(f.prop("checked",!1),e.removeClass(this.options.selectedClass))}},updateButtonText:function(){var b=this.getSelected();a(".multiselect",this.$container).html(this.options.buttonText(b,this.$select)),a(".multiselect",this.$container).attr("title",this.options.buttonTitle(b,this.$select))},getSelected:function(){return a("option",this.$select).filter(":selected")},getOptionByValue:function(b){for(var c=a("option",this.$select),d=b.toString(),e=0;e<c.length;e+=1){var f=c[e];if(f.value===d)return a(f)}},getInputByValue:function(b){for(var c=a("li input",this.$ul),d=b.toString(),e=0;e<c.length;e+=1){var f=c[e];if(f.value===d)return a(f)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(a,b,c){var d=Array.prototype.slice.call(arguments,3);return setTimeout(function(){a.apply(c||window,d)},b)}},a.fn.multiselect=function(b,c,e){return this.each(function(){var f=a(this).data("multiselect"),g="object"==typeof b&&b;f||(f=new d(this,g),a(this).data("multiselect",f)),"string"==typeof b&&(f[b](c,e),"destroy"===b&&a(this).data("multiselect",!1))})},a.fn.multiselect.Constructor=d,a(function(){a("select[data-role=multiselect]").multiselect()})}(window.jQuery),!function(a){return"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):a(jQuery,window,document)}(function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;z={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},u="scrollbar",t="scroll",l="mousedown",m="mouseenter",n="mousemove",p="mousewheel",o="mouseup",s="resize",h="drag",i="enter",w="up",r="panedown",f="DOMMouseScroll",g="down",x="wheel",j="keydown",k="keyup",v="touchmove",d="Microsoft Internet Explorer"===b.navigator.appName&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,D=b.requestAnimationFrame,y=b.cancelAnimationFrame,F=c.createElement("div").style,H=function(){var a,b,c,d,e,f;for(d=["t","webkitT","MozT","msT","OT"],a=e=0,f=d.length;f>e;a=++e)if(c=d[a],b=d[a]+"ransform",b in F)return d[a].substr(0,d[a].length-1);return!1}(),G=function(a){return H===!1?!1:""===H?a:H+a.charAt(0).toUpperCase()+a.substr(1)},E=G("transform"),B=E!==!1,A=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=t,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},C=function(){var a,c,d;return c=b.navigator.userAgent,(a=/(?=.+Mac OS X)(?=.+Firefox)/.test(c))?(d=/Firefox\/\d{2}\./.exec(c),d&&(d=d[0].replace(/\D+/g,"")),a&&+d>23):!1},q=function(){function j(d,f){this.el=d,this.options=f,e||(e=A()),this.$el=a(this.el),this.doc=a(this.options.documentContext||c),this.win=a(this.options.windowContext||b),this.body=this.doc.find("body"),this.$content=this.$el.children("."+f.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return j.prototype.preventScrolling=function(a,b){if(this.isActive)if(a.type===f)(b===g&&a.originalEvent.detail>0||b===w&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===p){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===w&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},j.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},j.prototype.updateScrollValues=function(){var a,b;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,b=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==b&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:b}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},j.prototype.setOnScrollStyles=function(){var a;B?(a={},a[E]="translate(0, "+this.sliderTop+"px)"):a={top:this.sliderTop},D?(y&&this.scrollRAF&&y(this.scrollRAF),this.scrollRAF=D(function(b){return function(){return b.scrollRAF=null,b.slider.css(a)}}(this))):this.slider.css(a)},j.prototype.createEvents=function(){this.events={down:function(a){return function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.slider.is(b.target)||(a.offsetY=0),a.pane.addClass("active"),a.doc.bind(n,a.events[h]).bind(o,a.events[w]),a.body.bind(m,a.events[i]),!1}}(this),drag:function(a){return function(b){return a.sliderY=b.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight),a.scroll(),a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"),!1}}(this),up:function(a){return function(){return a.isBeingDragged=!1,a.pane.removeClass("active"),a.doc.unbind(n,a.events[h]).unbind(o,a.events[w]),a.body.unbind(m,a.events[i]),!1}}(this),resize:function(a){return function(){a.reset()}}(this),panedown:function(a){return function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(b),!1}}(this),scroll:function(a){return function(b){a.updateScrollValues(),a.isBeingDragged||(a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,w),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))}}(this),wheel:function(a){return function(b){var c;return null!=b?(c=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail||b.originalEvent&&-b.originalEvent.detail,c&&(a.sliderY+=-c/3),a.scroll(),!1):void 0}}(this),enter:function(a){return function(b){var c;return a.isBeingDragged&&1!==(b.buttons||b.which)?(c=a.events)[w].apply(c,arguments):void 0}}(this)}},j.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(s,a[s]),this.iOSNativeScrolling||(this.slider.bind(l,a[g]),this.pane.bind(l,a[r]).bind(""+p+" "+f,a[x])),this.$content.bind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(s,a[s]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.generate=function(){var a,c,d,f,g,h,i;return f=this.options,h=f.paneClass,i=f.sliderClass,a=f.contentClass,(g=this.$el.children("."+h)).length||g.children("."+i).length||this.$el.append('<div class="'+h+'"><div class="'+i+'" /></div>'),this.pane=this.$el.children("."+h),this.slider=this.pane.find("."+i),0===e&&C()?(d=b.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),c={right:-14,paddingRight:+d+14}):e&&(c={right:-e},this.$el.addClass("has-scrollbar")),null!=c&&this.$content.css(c),this},j.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},j.prototype.reset=function(){var a,b,c,f,g,h,i,j,k,l,m,n;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,f=a.style,g=f.overflowY,d&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+e,l=parseInt(this.$el.css("max-height"),10),l>0&&(this.$el.height(""),this.$el.height(a.scrollHeight>l?l:a.scrollHeight)),i=this.pane.outerHeight(!1),k=parseInt(this.pane.css("top"),10),h=parseInt(this.pane.css("bottom"),10),j=i+k+h,n=Math.round(j/b*j),n<this.options.sliderMinHeight?n=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&n>this.options.sliderMaxHeight&&(n=this.options.sliderMaxHeight),g===t&&f.overflowX!==t&&(n+=e),this.maxSliderTop=j-n,this.contentHeight=b,this.paneHeight=i,this.paneOuterHeight=j,this.sliderHeight=n,this.paneTop=k,this.slider.height(n),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&g!==t?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&g===t?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),c=this.$content.css("position"),("static"===c||"relative"===c)&&(m=parseInt(this.$content.css("right"),10),m&&this.$content.css({right:"",marginRight:m})),this)},j.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},j.prototype.scrollBottom=function(a){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTop=function(a){return this.isActive?(this.$content.scrollTop(+a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTo=function(a){return this.isActive?(this.scrollTop(this.$el.find(a).get(0).offsetTop),this):void 0},j.prototype.stop=function(){return y&&this.scrollRAF&&(y(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},j.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),d&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},j.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(a){return function(){a.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},j}(),a.fn.nanoScroller=function(b){return this.each(function(){var c,d;if((d=this.nanoscroller)||(c=a.extend({},z,b),this.nanoscroller=d=new q(this,c)),b&&"object"==typeof b){if(a.extend(d.options,b),null!=b.scrollBottom)return d.scrollBottom(b.scrollBottom);if(null!=b.scrollTop)return d.scrollTop(b.scrollTop);if(b.scrollTo)return d.scrollTo(b.scrollTo);if("bottom"===b.scroll)return d.scrollBottom(0);if("top"===b.scroll)return d.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return d.scrollTo(b.scroll);if(b.stop)return d.stop();if(b.destroy)return d.destroy();if(b.flash)return d.flash()}return d.reset()})},a.fn.nanoScroller.Constructor=q}),function(a,b){"use strict";function c(b){b=a.extend({},q,b||{}),null===n&&(n=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(c,d){if(!c.hasClass(o.base)){d=a.extend({},d,c.data(m+"-options"));var h="";h+='<div class="'+o.bar+'">',h+='<div class="'+o.track+'">',h+='<div class="'+o.handle+'">',h+="</div></div></div>",d.paddingRight=parseInt(c.css("padding-right"),10),d.paddingBottom=parseInt(c.css("padding-bottom"),10),c.addClass([o.base,d.customClass].join(" ")).wrapInner('<div class="'+o.content+'" />').prepend(h),d.horizontal&&c.addClass(o.isHorizontal);var i=a.extend({$scroller:c,$content:c.find(l(o.content)),$bar:c.find(l(o.bar)),$track:c.find(l(o.track)),$handle:c.find(l(o.handle))},d);i.trackMargin=parseInt(i.trackMargin,10),i.$content.on("scroll."+m,i,e),i.$scroller.on(p.start,l(o.track),i,f).on(p.start,l(o.handle),i,g).data(m,i),r.reset.apply(c),a(b).one("load",function(){r.reset.apply(c)})}}function e(a){a.preventDefault(),a.stopPropagation();var b=a.data,c={};if(b.horizontal){var d=b.$content.scrollLeft();0>d&&(d=0);var e=d/b.scrollRatio;e>b.handleBounds.right&&(e=b.handleBounds.right),c={left:e}}else{var f=b.$content.scrollTop();0>f&&(f=0);var g=f/b.scrollRatio;g>b.handleBounds.bottom&&(g=b.handleBounds.bottom),c={top:g}}b.$handle.css(c)}function f(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=b.$track.offset(),e="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,f=e?e.pageX:a.clientX,g=e?e.pageY:a.clientY;b.horizontal?(b.mouseStart=f,b.handleLeft=f-d.left-b.handleWidth/2,k(b,b.handleLeft)):(b.mouseStart=g,b.handleTop=g-d.top-b.handleHeight/2,k(b,b.handleTop)),h(b)}function g(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,e=d?d.pageX:a.clientX,f=d?d.pageY:a.clientY;b.horizontal?(b.mouseStart=e,b.handleLeft=parseInt(b.$handle.css("left"),10)):(b.mouseStart=f,b.handleTop=parseInt(b.$handle.css("top"),10)),h(b)}function h(a){a.$content.off(l(m)),n.on(p.move,a,i).on(p.end,a,j)}function i(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=0,e=0,f="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,g=f?f.pageX:a.clientX,h=f?f.pageY:a.clientY;b.horizontal?(e=b.mouseStart-g,d=b.handleLeft-e):(e=b.mouseStart-h,d=b.handleTop-e),k(b,d)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$content.on("scroll.scroller",b,e),n.off(".scroller")}function k(a,b){var c={};if(a.horizontal){b<a.handleBounds.left&&(b=a.handleBounds.left),b>a.handleBounds.right&&(b=a.handleBounds.right);var d=Math.round(b*a.scrollRatio);c={left:b},a.$content.scrollLeft(d)}else{b<a.handleBounds.top&&(b=a.handleBounds.top),b>a.handleBounds.bottom&&(b=a.handleBounds.bottom);var e=Math.round(b*a.scrollRatio);c={top:b},a.$content.scrollTop(e)}a.$handle.css(c)}function l(a){return"."+a}var m="scroller",n=null,o={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},p={start:"touchstart."+m+" mousedown."+m,move:"touchmove."+m+" mousemove."+m,end:"touchend."+m+" mouseup."+m},q={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},r={defaults:function(b){return q=a.extend(q,b||{}),"object"==typeof this?a(this):!0},destroy:function(){return a(this).each(function(b,c){var d=a(c).data(m);d&&(d.$scroller.removeClass([d.customClass,o.base,o.isActive].join(" ")),d.$bar.remove(),d.$content.contents().unwrap(),d.$content.off(l(m)),d.$scroller.off(l(m)).removeData(m))})},scroll:function(b,c){return a(this).each(function(d){var e=a(this).data(m),f=c||q.duration;if("number"!=typeof b){var g=a(b);if(g.length>0){var h=g.position();b=e.horizontal?h.left+e.$content.scrollLeft():h.top+e.$content.scrollTop()}else b=e.$content.scrollTop()}var i=e.horizontal?{scrollLeft:b}:{scrollTop:b};e.$content.stop().animate(i,f)})},reset:function(){return a(this).each(function(b){var c=a(this).data(m);if(c){c.$scroller.addClass(o.isSetup);var d={},e={},f={},g=0,h=!0;if(c.horizontal){c.barHeight=c.$content[0].offsetHeight-c.$content[0].clientHeight,c.frameWidth=c.$content.outerWidth(),c.trackWidth=c.frameWidth-2*c.trackMargin,c.scrollWidth=c.$content[0].scrollWidth,c.ratio=c.trackWidth/c.scrollWidth,c.trackRatio=c.trackWidth/c.scrollWidth,c.handleWidth=c.handleSize>0?c.handleSize:c.trackWidth*c.trackRatio,c.scrollRatio=(c.scrollWidth-c.frameWidth)/(c.trackWidth-c.handleWidth),c.handleBounds={left:0,right:c.trackWidth-c.handleWidth},c.$content.css({paddingBottom:c.barHeight+c.paddingBottom});var i=c.$content.scrollLeft();g=i*c.ratio,h=c.scrollWidth<=c.frameWidth,d={width:c.frameWidth},e={width:c.trackWidth,marginLeft:c.trackMargin,marginRight:c.trackMargin},f={width:c.handleWidth}}else{c.barWidth=c.$content[0].offsetWidth-c.$content[0].clientWidth,c.frameHeight=c.$content.outerHeight(),c.trackHeight=c.frameHeight-2*c.trackMargin,c.scrollHeight=c.$content[0].scrollHeight,c.ratio=c.trackHeight/c.scrollHeight,c.trackRatio=c.trackHeight/c.scrollHeight,c.handleHeight=c.handleSize>0?c.handleSize:c.trackHeight*c.trackRatio,c.scrollRatio=(c.scrollHeight-c.frameHeight)/(c.trackHeight-c.handleHeight),c.handleBounds={top:0,bottom:c.trackHeight-c.handleHeight};var j=c.$content.scrollTop();g=j*c.ratio,h=c.scrollHeight<=c.frameHeight,d={height:c.frameHeight},e={height:c.trackHeight,marginBottom:c.trackMargin,marginTop:c.trackMargin},f={height:c.handleHeight}}h?c.$scroller.removeClass(o.isActive):c.$scroller.addClass(o.isActive),c.$bar.css(d),c.$track.css(e),c.$handle.css(f),k(c,g),c.$scroller.removeClass(o.isSetup)}})}};a.fn[m]=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a[m]=function(a){"defaults"===a&&r.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(){var a=this,b=a._,c=Array.prototype,d=Object.prototype,e=Function.prototype,f=c.push,g=c.slice,h=c.concat,i=d.toString,j=d.hasOwnProperty,k=Array.isArray,l=Object.keys,m=e.bind,n=function(a){return a instanceof n?a:this instanceof n?void(this._wrapped=a):new n(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n,n.VERSION="1.7.0";var o=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};n.iteratee=function(a,b,c){return null==a?n.identity:n.isFunction(a)?o(a,b,c):n.isObject(a)?n.matches(a):n.property(a)},n.each=n.forEach=function(a,b,c){if(null==a)return a;b=o(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=n.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},n.map=n.collect=function(a,b,c){if(null==a)return[];b=n.iteratee(b,c);for(var d,e=a.length!==+a.length&&n.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var p="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},n.reduceRight=n.foldr=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},n.find=n.detect=function(a,b,c){var d;return b=n.iteratee(b,c),n.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},n.filter=n.select=function(a,b,c){var d=[];return null==a?d:(b=n.iteratee(b,c),n.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},n.reject=function(a,b,c){return n.filter(a,n.negate(n.iteratee(b)),c)},n.every=n.all=function(a,b,c){if(null==a)return!0;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},n.some=n.any=function(a,b,c){if(null==a)return!1;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},n.contains=n.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=n.values(a)),n.indexOf(a,b)>=0)},n.invoke=function(a,b){var c=g.call(arguments,2),d=n.isFunction(b);return n.map(a,function(a){return(d?b:a[b]).apply(a,c)})},n.pluck=function(a,b){return n.map(a,n.property(b))},n.where=function(a,b){return n.filter(a,n.matches(b))},n.findWhere=function(a,b){return n.find(a,n.matches(b))},n.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},n.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},n.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:n.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=n.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},n.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=n.values(a)),a[n.random(a.length-1)]):n.shuffle(a).slice(0,Math.max(0,b))},n.sortBy=function(a,b,c){return b=n.iteratee(b,c),n.pluck(n.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var q=function(a){return function(b,c,d){var e={};return c=n.iteratee(c,d),n.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};n.groupBy=q(function(a,b,c){n.has(a,c)?a[c].push(b):a[c]=[b]}),n.indexBy=q(function(a,b,c){a[c]=b}),n.countBy=q(function(a,b,c){n.has(a,c)?a[c]++:a[c]=1}),n.sortedIndex=function(a,b,c,d){c=n.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},n.toArray=function(a){return a?n.isArray(a)?g.call(a):a.length===+a.length?n.map(a,n.identity):n.values(a):[]},n.size=function(a){return null==a?0:a.length===+a.length?a.length:n.keys(a).length},n.partition=function(a,b,c){b=n.iteratee(b,c);var d=[],e=[];return n.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},n.first=n.head=n.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:g.call(a,0,b)},n.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},n.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},n.rest=n.tail=n.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},n.compact=function(a){return n.filter(a,n.identity)};var r=function(a,b,c,d){if(b&&n.every(a,n.isArray))return h.apply(d,a);for(var e=0,g=a.length;g>e;e++){var i=a[e];n.isArray(i)||n.isArguments(i)?b?f.apply(d,i):r(i,b,c,d):c||d.push(i)}return d};n.flatten=function(a,b){return r(a,b,!1,[])},n.without=function(a){return n.difference(a,g.call(arguments,1))},n.uniq=n.unique=function(a,b,c,d){if(null==a)return[];n.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=n.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);n.indexOf(f,j)<0&&(f.push(j),e.push(i))}else n.indexOf(e,i)<0&&e.push(i)}return e},n.union=function(){return n.uniq(r(arguments,!0,!0,[]))},n.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!n.contains(b,f)){for(var g=1;c>g&&n.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},n.difference=function(a){var b=r(g.call(arguments,1),!0,!0,[]);return n.filter(a,function(a){return!n.contains(b,a)})},n.zip=function(a){if(null==a)return[];for(var b=n.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=n.pluck(arguments,d);return c},n.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},n.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=n.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},n.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},n.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;
for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var s=function(){};n.bind=function(a,b){var c,d;if(m&&a.bind===m)return m.apply(a,g.call(arguments,1));if(!n.isFunction(a))throw new TypeError("Bind must be called on a function");return c=g.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(g.call(arguments)));s.prototype=a.prototype;var e=new s;s.prototype=null;var f=a.apply(e,c.concat(g.call(arguments)));return n.isObject(f)?f:e}},n.partial=function(a){var b=g.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===n&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},n.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=n.bind(a[c],a);return a},n.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return n.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},n.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},n.defer=function(a){return n.delay.apply(n,[a,1].concat(g.call(arguments,1)))},n.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:n.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=n.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},n.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=n.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=n.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},n.wrap=function(a,b){return n.partial(b,a)},n.negate=function(a){return function(){return!a.apply(this,arguments)}},n.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},n.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},n.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},n.once=n.partial(n.before,2),n.keys=function(a){if(!n.isObject(a))return[];if(l)return l(a);var b=[];for(var c in a)n.has(a,c)&&b.push(c);return b},n.values=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},n.pairs=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},n.invert=function(a){for(var b={},c=n.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},n.functions=n.methods=function(a){var b=[];for(var c in a)n.isFunction(a[c])&&b.push(c);return b.sort()},n.extend=function(a){if(!n.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)j.call(b,c)&&(a[c]=b[c])}return a},n.pick=function(a,b,c){var d,e={};if(null==a)return e;if(n.isFunction(b)){b=o(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var i=h.apply([],g.call(arguments,1));a=new Object(a);for(var j=0,k=i.length;k>j;j++)d=i[j],d in a&&(e[d]=a[d])}return e},n.omit=function(a,b,c){if(n.isFunction(b))b=n.negate(b);else{var d=n.map(h.apply([],g.call(arguments,1)),String);b=function(a,b){return!n.contains(d,b)}}return n.pick(a,b,c)},n.defaults=function(a){if(!n.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},n.clone=function(a){return n.isObject(a)?n.isArray(a)?a.slice():n.extend({},a):a},n.tap=function(a,b){return b(a),a};var t=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof n&&(a=a._wrapped),b instanceof n&&(b=b._wrapped);var e=i.call(a);if(e!==i.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(n.isFunction(g)&&g instanceof g&&n.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var j,k;if("[object Array]"===e){if(j=a.length,k=j===b.length)for(;j--&&(k=t(a[j],b[j],c,d)););}else{var l,m=n.keys(a);if(j=m.length,k=n.keys(b).length===j)for(;j--&&(l=m[j],k=n.has(b,l)&&t(a[l],b[l],c,d)););}return c.pop(),d.pop(),k};n.isEqual=function(a,b){return t(a,b,[],[])},n.isEmpty=function(a){if(null==a)return!0;if(n.isArray(a)||n.isString(a)||n.isArguments(a))return 0===a.length;for(var b in a)if(n.has(a,b))return!1;return!0},n.isElement=function(a){return!(!a||1!==a.nodeType)},n.isArray=k||function(a){return"[object Array]"===i.call(a)},n.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},n.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){n["is"+a]=function(b){return i.call(b)==="[object "+a+"]"}}),n.isArguments(arguments)||(n.isArguments=function(a){return n.has(a,"callee")}),"function"!=typeof/./&&(n.isFunction=function(a){return"function"==typeof a||!1}),n.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},n.isNaN=function(a){return n.isNumber(a)&&a!==+a},n.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===i.call(a)},n.isNull=function(a){return null===a},n.isUndefined=function(a){return void 0===a},n.has=function(a,b){return null!=a&&j.call(a,b)},n.noConflict=function(){return a._=b,this},n.identity=function(a){return a},n.constant=function(a){return function(){return a}},n.noop=function(){},n.property=function(a){return function(b){return b[a]}},n.matches=function(a){var b=n.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},n.times=function(a,b,c){var d=Array(Math.max(0,a));b=o(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},n.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},n.now=Date.now||function(){return(new Date).getTime()};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},v=n.invert(u),w=function(a){var b=function(b){return a[b]},c="(?:"+n.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};n.escape=w(u),n.unescape=w(v),n.result=function(a,b){if(null==a)return void 0;var c=a[b];return n.isFunction(c)?a[b]():c};var x=0;n.uniqueId=function(a){var b=++x+"";return a?a+b:b},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g,B=function(a){return"\\"+z[a]};n.template=function(a,b,c){!b&&c&&(b=c),b=n.defaults({},b,n.templateSettings);var d=RegExp([(b.escape||y).source,(b.interpolate||y).source,(b.evaluate||y).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(A,B),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,n)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},n.chain=function(a){var b=n(a);return b._chain=!0,b};var C=function(a){return this._chain?n(a).chain():a};n.mixin=function(a){n.each(n.functions(a),function(b){var c=n[b]=a[b];n.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),C.call(this,c.apply(n,a))}})},n.mixin(n),n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];n.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],C.call(this,c)}}),n.each(["concat","join","slice"],function(a){var b=c[a];n.prototype[a]=function(){return C.call(this,b.apply(this._wrapped,arguments))}}),n.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this),function(a,b,c){"use strict";a(document).ready(function(){var c={$filters:null,$reset:null,groups:[],outputArray:[],outputString:"",init:function(){var b=this;b.$filters=a("#select-filters"),b.$reset=a("#mix-reset"),b.$container=a("#mix-container"),b.$filters.find("fieldset").each(function(){b.groups.push({$dropdown:a(this).find("select"),active:""})}),b.bindHandlers()},bindHandlers:function(){var a=this;a.$filters.on("change","select",function(b){b.preventDefault(),a.parseFilters()}),a.$reset.on("click",function(b){b.preventDefault(),a.$filters.find("select").val(""),a.parseFilters()})},parseFilters:function(){for(var a,b=this,c=0;a=b.groups[c];c++)a.active=a.$dropdown.val();b.concatenate()},concatenate:function(){var a=this;a.outputString="";for(var b,c=0;b=a.groups[c];c++)a.outputString+=b.active;!a.outputString.length&&(a.outputString="all"),a.$container.mixItUp("isLoaded")&&a.$container.mixItUp("filter",a.outputString)}},d={$filters:null,$reset:null,groups:[],outputArray:[],outputString:"",init:function(){var b=this;b.$filters=a("#checkbox-filters"),b.$reset=a("#mix-reset2"),b.$container=a("#mix-container"),b.$filters.find("fieldset").each(function(){b.groups.push({$inputs:a(this).find("input"),active:[],tracker:!1})}),b.bindHandlers()},bindHandlers:function(){var a=this;a.$filters.on("change",function(){a.parseFilters()}),a.$reset.on("click",function(b){b.preventDefault(),a.$filters[0].reset(),a.parseFilters()})},parseFilters:function(){for(var b,c=this,d=0;b=c.groups[d];d++)b.active=[],b.$inputs.each(function(){a(this).is(":checked")&&b.active.push(this.value)}),b.active.length&&(b.tracker=0);c.concatenate()},concatenate:function(){var a=this,b="",c=!1,d=function(){for(var b,c=0,d=0;b=a.groups[d];d++)b.tracker===!1&&c++;return c<a.groups.length},e=function(){for(var c,d=0;c=a.groups[d];d++)c.active[c.tracker]&&(b+=c.active[c.tracker]),d===a.groups.length-1&&(a.outputArray.push(b),b="",f())},f=function(){for(var b=a.groups.length-1;b>-1;b--){var d=a.groups[b];if(d.active[d.tracker+1]){d.tracker++;break}b>0?d.tracker&&(d.tracker=0):c=!0}};a.outputArray=[];do e();while(!c&&d());a.outputString=a.outputArray.join(),!a.outputString.length&&(a.outputString="all"),a.$container.mixItUp("isLoaded")&&a.$container.mixItUp("filter",a.outputString)}};a("#filter1").multiselect({buttonClass:"btn btn-default"}),a("#filter2").multiselect({buttonClass:"btn btn-default"}),d.init(),c.init();var e=a("#mix-container"),f=a(".to-list"),g=a(".to-grid");e.mixItUp({controls:{enable:!1},animation:{duration:400,effects:"fade translateZ(-360px) stagger(45ms)",easing:"ease"},callbacks:{onMixFail:function(){}}}),f.on("click",function(){e.hasClass("list")||e.mixItUp("changeLayout",{display:"block",containerClass:"list"},function(a){})}),g.on("click",function(){e.hasClass("grid")||e.mixItUp("changeLayout",{display:"inline-block",containerClass:"grid"},function(a){})}),a(".mix img").magnificPopup({type:"image",callbacks:{beforeOpen:function(b){a("body").addClass("mfp-bg-open"),this.st.mainClass="mfp-zoomIn",this.contentContainer.addClass("mfp-with-anim")},afterClose:function(c){setTimeout(function(){a("body").removeClass("mfp-bg-open"),a(b).trigger("resize")},1e3)},elementParse:function(a){a.src=a.el.attr("src")}},overflowY:"scroll",removalDelay:200,prependTo:a("#content_wrapper")})})}(jQuery,window);
//# sourceMappingURL=customer-area.js.map